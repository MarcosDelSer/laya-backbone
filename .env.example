# LAYA Docker Compose Environment Variables
# Copy this file to .env and update with your values

# ===================================================================
# Application Environment
# ===================================================================
ENVIRONMENT=development
NODE_ENV=development
DEBUG=false
LOG_LEVEL=INFO

# ===================================================================
# PostgreSQL Database (AI Service)
# ===================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=laya_ai
POSTGRES_USER=laya_user
POSTGRES_PASSWORD=changeme_secure_password

# MySQL Database (Gibbon CMS)
MYSQL_ROOT_PASSWORD=changeme_root_password
MYSQL_PASSWORD=changeme_mysql_password

# ===================================================================
# JWT Authentication
# ===================================================================
# Generate a secure secret key with: openssl rand -hex 32
JWT_SECRET_KEY=changeme_generate_with_openssl_rand_hex_32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15

# ===================================================================
# Rate Limiting
# ===================================================================
# Redis connection URL for rate limiting storage
RATE_LIMIT_STORAGE_URI=redis://localhost:6379
# Rate limit for general API endpoints (requests per minute)
RATE_LIMIT_GENERAL=100/minute
# Rate limit for authentication endpoints (requests per minute)
RATE_LIMIT_AUTH=5/minute

# ===================================================================
# CORS Configuration
# ===================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ===================================================================
# Security Headers
# ===================================================================
# X-Frame-Options: DENY (prevent clickjacking) or SAMEORIGIN
X_FRAME_OPTIONS=DENY
# X-Content-Type-Options: nosniff (prevent MIME type sniffing)
X_CONTENT_TYPE_OPTIONS=nosniff
# Enable HSTS (Strict-Transport-Security) in production with HTTPS
ENFORCE_HTTPS=false

# ===================================================================
# Optional: Custom Ports (uncomment to override defaults)
# ===================================================================
# AI_SERVICE_PORT=8000
# GIBBON_PORT=8080
# PARENT_PORTAL_PORT=3000
# POSTGRES_PORT=5432
# MYSQL_PORT=3306
# REDIS_PORT=6379

# ===================================================================
# Alert Configuration
# ===================================================================
ALERTS_ENABLED=false
ALERT_CHANNELS=email
ALERT_MIN_SEVERITY=warning
ALERT_EMAIL_TO=admin@example.com
ALERT_SMTP_HOST=localhost
ALERT_SMTP_PORT=587
ALERT_SMTP_USER=
ALERT_SMTP_PASSWORD=
ALERT_EMAIL_FROM=alerts@laya.local
ALERT_WEBHOOK_URL=
ALERT_SLACK_WEBHOOK_URL=
